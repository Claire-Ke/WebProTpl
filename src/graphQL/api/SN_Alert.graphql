##import "./SN_Alert.fragment.graphql"

fragment SN_Alert_Fragment_SimilarAlarmTotal on IBMS_SimilarAlarmTotal{
    alarmTotal,
    misinformationTotal,
    malfunctionTotal,
}

#获取所有未复核、已复核的
query SN_Alert_GetAllReviewList{
    #获取所有未复核
    notReviewedList: ibms_alarm_getAlarmByContent( pageIndex: 1, pageSize: 30, beginStamptime: "2013-01-01 00:00:00", endStamptime: "2025-01-01 00:00:00" ){
        count,
        unCheckedCount,
        data{
            id,
            url,
            title,
            unCheckedAlarmTime,
            deviceId,
            deviceName,
            devieceFacturerName,
            deviceCategory,
            message,
            alarmLevel,
            subsystemName,
            regionName,
            alarmType,
            similarAlarmTotal{
                ...SN_Alert_Fragment_SimilarAlarmTotal,
            },
        },
    },

    #获取所有已复核
    reviewedList: ibms_alarm_getMisinformationByContent( pageIndex: 1, pageSize: 30, beginStamptime: "2013-01-01 00:00:00", endStamptime: "2025-01-01 00:00:00" ){
        count,
        checkedCount,
        data{
            id,
            url,
            title,
            checkedAlarmTime,
            deviceId,
            deviceName,
            devieceFacturerName,
            deviceCategory,
            message,
            alarmLevel,
            subsystemName,
            checkedAccountId,
            misinformationMessage,
            reviewTime,
            regionName,
            alarmType,
            report,
            reviewType,
            similarAlarmTotal{
                ...SN_Alert_Fragment_SimilarAlarmTotal,
            },
        },
    },
}
